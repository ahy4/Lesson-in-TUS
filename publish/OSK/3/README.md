# 講義2,3日目の資料

やること

* 『プログラムを作る』とはどういうことか？
    + はじめに
    + 友達に豚汁(ブタジル)の作り方を教えるにはどうしたらいいか？
    + 何を記述すればいいのか？
* 文法を学んでみよう
    + console.log("hello world");
    + 変数を使う
    + コメント
    + 空白
    + 数値を使う
    + 文字列を使う
    + エロゲには『分岐』が存在する！(if文)
    + 評価とは
    + 真偽値について
    + 何回も同じ事を繰り返す！(while文、for文)
    + 順序・分岐・ループが表現できれば、理論上はどんなプログラムでも作れる！
    + 演習課題


# 『プログラムを作る』とはどういうことか？

## はじめに

みんなが応数研に入ったのは、おそらく「ゲームが作りたい！」「アプリケーションが作りたい！」「なんかサイト作りたい！」みたいな理由だと思う。

しかし肝心な、『どうしたらプログラムは作れるの？』ということに関しては、おそらくみんな全く理解していないし、検討もついていないと思う。

(だから今回は俺のママンでもわかるような説明を心がけさせてもらう)

逆に、その作り方のイメージがなーんとなく付いている人は前に貼ったパワポ資料を見てもらえればすんなりわかると思うし、わざわざこれを読む必要もないと思うし読むのも面倒だと思う。

## 友達に豚汁(ブタジル)の作り方を教えるにはどうしたらいいか？

注：ブタジルはブラジルではない

唐突だけど、豚汁の作り方を教えるときのことを考えてほしい。

これは、CookPadというレシピをまとめたサイトから抜粋した豚汁の作り方。

![](file:///Users/noko/Desktop/スクリーンショット 2016-04-25 22.48.32.png)

これを見れば、誰でも同じメニューを作る事ができる。

なぜそんな事ができるのか？それは、『***作り方の手順が明確に書いてあるから***』。

作り方がしっかり書いてあれば、その通りに作っていけばまあ一緒なものが完成しないとおかしいよね。

じゃあ、今度は友達ではなく、コンピュータに豚汁の作り方を教えたい！

どうすれば教えられるか？

『***コンピュータには、作り方の手順をコンピュータ語でおしえてあげる***』ことができれば良い！

つまり、コンピュータ語が勉強できればどんなものでも作れる。ここでいうコンピュータ語とはプログラミング言語の事。

## 何をどう教えればいいのか？

豚汁の作り方の紹介ページには、作り方の手順が書いてあった。

じゃあコンピュータに教えることも、その**手順**でいいはずだ！

たとえば、コンピュータにBMIの計算をさせたいとする。

そもそもBMIっていうのは、肥満度をあらわす国際的な指標のこと。

で、実際には以下のことをコンピュータに教えてあげれば実際に計算してくれる：

1. コンピュータに身長と体重を教える
2. 「BMI」って変数を用意して、BMI＝体重(kg) ÷ {身長(m) × 身長(m)} を代入する
3. BMIを表示する

たったこれだけ。簡単でしょう？


# 文法を学んでみよう

## console.log("hello world");

前回の復習ではあるけど、これをやってみよう。

cloud9のエディタを開き、新しいファイルをapp.jsって名前で保存。

中身の内容は

```javascript
console.log("hello world");
```

そしたらrunボタンを押して結果を確認。hello worldと表示されていれば成功！

### 説明

さっきのノリで和訳すると、こんな感じになる。

1. hello world　って文字列を表示する

さすがに意味深スギィィ！いや確かにそうだけどさ！

詳しく説明すると、

- `console.log` っていうのは命令。命令を実行するときは、`console.log()`みたいに、「`命令()`」っていう書き方をする
- `console.log`って命令は、javascriptが標準で用意してくれている。
- "" でくくられた部分は文字列として扱われる。`"hello world"`は、「hello worldってう文字列」って意味
- 数学的な <img src="https://latex.codecogs.com/gif.latex?%5Cdpi%7B150%7D%20f%282%29"> のように、必要な情報をカッコの中に入れてあげる。「〜を表示する」って命令は、「〜を」の部分も教えないと実行できないよね？だから`"hello world"`を渡す
- 文の最後にはセミコロンを書く。日本語でいうと、「。」の部分

![](file:///Users/noko/Desktop/スクリーンショット 2016-04-25 23.39.50.png)

### ちなみに

プログラムは基本的に上から下に実行される。例えば、

```javascript
console.log("hello world 1");
console.log("hello world 2");
console.log("hello world 3");
```

って書けば、こんな感じに結果が表示される：

```
hello world 1
hello world 2
hello world 3
```

## 変数を使う

数学でいうところの変数とは微妙に違いはある。

変数とは、あるデータを名前付けするためのラベルのこと。

さっきの例で BMI ＝ 体重(kg) ÷ {身長(m) × 身長(m)} ってあったけど、

この右辺の計算式のことをBMIっていうふうに決めつけることを、プログラミング的には『変数を定義する』という。

具体的にはこう使う：

```javascript
var a = "hello world";
console.log(a);
console.log(a);
```

実行すると、以下の結果を得る：

```
hello world
hello world
```

こうすることの利点はいろいろあるけど、例えば上の場合は、繰り返し`"hello world"`って文字列を打ち込む手間がなくなる。

他には、`"hello world"`っていう文字列に対して好きな変数名をつけられるようになるのもポイント。

今回は`a`って変数名にしたけど、別に変数名はなんだっていい。

`var message = "hello world";`ってしてもいいし、`hoge`って名前をつけてもいい。

好きな名前を付けられることによって、コードの見通しがよくなる。

### 細かめの解説

例えば、判別式Dについて思い出してみよう。

模試かなにかで何の断りもなく、「<img src="https://latex.codecogs.com/gif.latex?%5Cdpi%7B150%7D%20D%20%3D%203%5E2%20-%204%5Ccdot%201%5Ccdot%205">」っていきなり書いたとする。

Dが何であるかは何のことかは正直わかる。

だけど採点が厳しい場合、これは減点対象(だとおもう)んだけど、何故でしょうかー？

答えは、「Dが(判別式であることが)宣言されていないのにDを用いたこと」。

Dっていうのは、自分で使うと決めた変数名のことだよーっていうことは読者に教えないといけない。

だから本来は、「Dを <img src="https://latex.codecogs.com/gif.latex?%5Cdpi%7B150%7D%20x%5E2%20-%203x%20+%205"> の判別式とすると、<img src="https://latex.codecogs.com/gif.latex?%5Cdpi%7B150%7D%20D%20%3D%203%5E2%20-%204%5Ccdot%201%5Ccdot%205">」

って書くべきなんだよね。

それと一緒なことが javascript にも起こる。

これは、本当は良くない↓

```javascript
a = "hello world";
console.log(a);
```

いや、動くことは動いちゃうんだけどね。弊害が発生するしあんまり良くない。

もちろん、「aは変数である」ということをしっかり言ってない状態でaをつかってるから良くない。

本当はこう書くべき：

```javascript
var a;              // ← aって変数を定義する
a = "hello world";  // ← aに"hello world"って文字列を代入する
console.log(a);
```

それを省略して、こうにもかける：

```javascript
var a = "hello world"; // ← aって変数を定義して"hello world"を代入する
console.log(a);
```

## コメント

しれっとさっきコメント使っちゃったけどゆるしてテヘペロ

コメントアウトとは、ソースコード上にメモ書きをしたりするためにある機能。


```javascript
console.log("1th called");
// console.log("2nd called");
// こめんと
/* console.log("3rd called"); */
console.log("4th called");
```

例えば、こんなふうに書いたら灰色の部分は実行されない。

`/* */` または `//` で指定された場所はコメントアウトと呼び、そこの文は一切読まれない。
`/* */`は、「`/*から始まり、*/`で終わる部分がコメントアウト」になる。

`//` は、「`//`以降の同じ行の文字列はコメントアウト」になる。

もちろん、`/* */`は複数行のコメントを残すことができる

（実際にはそもそも`/* */`自体使う機会が少ないが。。。）

例：

```javascript
/*
  this is comment
  this is comment
  this is comment
*/
```

## コード中のスペース、改行

ルールはこんな感じ

- スペースを入れることができる場所は、改行に置き換えてもよい。スペースと改行は意味合いが同じ
- 変数名中はスペースをいれることができない。
- varの直後にはスペースを入れなければならない
- (まだ教えてないけど)function式とその関数名の間にはスペースがないといけない
- 文字列の中でスペースは使えるけど、意味が変わる
- 他の場合は、ほとんどの場合は自由に改行をしたりスペースを挟んでも良い

```javascript
var message="hello world"; // スペース消せる
console.log(me ssage); // 変数中にスペースは入れられない
message
= // 改行できる
"helloworld"; // "hello world" とは意味が違う
console . log ( message ) ; // スペース挟める
```

## 数値を使う

文字列みたいに、変数とかは使える：

```javascript
var a = 114514;
console.log(a);
```

そもそも数値っていうのは、こういうものをさす。

- 1
- 4.2
- \-0.9

### 演算子

演算子とは、「幾つかの情報を伝えたら１つの情報を返す計算記号」のこと。

たとえば、数学的に <img src="https://latex.codecogs.com/gif.latex?%5Cdpi%7B150%7D%20+"> は演算子で、「２つの数値を入力したら一つの数値を返す記号」。

<img src="https://latex.codecogs.com/gif.latex?%5Cdpi%7B150%7D%201%20+%202"> は、1と2を渡して3を返す。

javascriptには、数値にはこんな演算子が用意されている。

|使える演算子|例|
|:--|:--|
|+|1 + 2 (=3)|
|-|4.3 – 5.2 (=-0.9)|
|*|3 * 2 (=6)|
|/|1 / 3 (=0.3333333333333333)|
|%|13 % 2 (=1)|
|++|a = a + 1 (または、a += 1) と同じ|
|--|a = a - 1 (または、a -= 1) と同じ|

など。

もし、計算順序を変えたい場合は、数学のように、丸括弧を使うことで制御できる。

例：(1 + 2) * (3 + 4)

### a = a + 1 って？

和訳すると、

「aって変数にa+1を**代入する**」って意味。

数学的な <img src="https://latex.codecogs.com/gif.latex?%5Cdpi%7B150%7D%20%3D"> とは全然意味が違う

代入はもちろん１回しか行われない

例：

```javascript
var a = 3;
a = a + 6;
console.log(a); // => 9
```

また、`a = a + 1`は、`a += 1`って書き方もあって、特殊な書き方として`a++`も許されている。

## 文字列を使う

```javascript
var message = "hello world";
```

のように使う。

|使える演算子|例|
|:--|:--|
|+|"hello" + " world" (= "hello world")|
|[ ]|"hello"\[0] (= "h"), "hello"\[4] (= "o") まあまだこれは理解しなくていいよ|

### 文字列中での改行の仕方とか

最初は知らなくてもいいかなぁって思ってたけどやっぱ簡単に書いとく

`\n`(windows環境の場合は`¥n`)を文字列中に書くと「改行」って意味合いになる

例：

```javascript
var message = "hello world 1\nhello world 2\nhelloworld 3";
console.log(message);
```

出力:

```
hello world 1
hello world 2
hello world 3
```

## セミコロン

どのタイミングでセミコロンを使うか、どこではセミコロンを使うべきではないかはまだ掴めていないかもしれない。

最初にも言ったとおり、セミコロンは日本語でいうところの「。」にあたる。

だから、迷った時はjavascriptを日本語に訳して、丸をつけるべきかどうか判断するといい。



## ギャルゲには『分岐』が存在する！(if文)

例えばヒロインが３人居たとして、どうやってバッドエンドにしたり、どのヒロインのルートに突入したりという判定をしているのだろう？

実際に、内部的に使われている判定法はこんなものが多いと思う。多分。

- 地雷となる選択肢を踏んでしまった場合、無条件にバッドエンドに移行
- 各ヒロインの好感度を <img src="https://latex.codecogs.com/gif.latex?%5Cdpi%7B150%7D%20a%3D0%2Cb%3D0%2Cc%3D0"> で定めておいて、ヒロインAにとって好感な選択肢を選んだらa+=2、好感度ダウンなものはa-=4 のように決めておく。
    - ある地点で好感度が10以上なひとがいればそのルートに移行
    - ダブってたらバッドエンド、用意してれば特殊ルートに移行
    - だれも10を超えていなければバッドエンド

つまり、状況によって、実行するべき命令が変わってくる。

そのような状況のために、『条件分岐(if文)』という文法がある。

### if文のシンプルな書き方

```javascript
if (条件式) {
  // 条件式が真だった時にここが動く
}
```

英語として、ifは「もし〜ならば」という意味がある。

上の構文を和訳すると、「もし条件式が正しければ、波括弧の中(スコープという)の命令が動く」という意味になる。

例：

```javascript
var a = 4;
if (a < 10) {
  console.log("aは10より小さい");
}
```

この場合、aは確かに10より小さい( <img src="https://latex.codecogs.com/gif.latex?%5Cdpi%7B150%7D%20a%3C10"> )ので、「aは10より小さい」と表示される。

もし、a = 11とかで定義した場合は何も表示されない。

![](file:///Users/noko/Desktop/Untitled Diagram (1).png)


### else

上の書き方の場合、「a<10なら"aは10より小さい"が表示させる」という意味だが、「a≧10のとき、"aは10以上である"」と表示させる事はできない。

```javascript
var a = 4;
if (a < 10) {
  console.log("aは10より小さい");
}
if (a >= 10) {
  console.log("aは10以上");
}
```

こう書けば確かに動くことは動くけど、もうちょっと良い書き方がある。

```javascript
if (条件式) {
  // 条件式が真だった時にここが動く
} else {
  // 条件式が偽だった時にここが動く
}
```

例：

```javascript
var a = 4;
if (a < 10) {
  console.log("aは10より小さい");
} else {
  console.log("aは10以上");
}
```

もちろんelse直前に改行してもよい

![](file:///Users/noko/Desktop/Untitled Diagram (2).png)


### else if

例えば、aさんが数学のテストをしたとしよう。

こんなプログラムを作りたいとする：

- 60点未満の場合、「＼落単ｶｰﾄﾞﾏｰﾝ!／」と表示する
- 60点以上80点未満の場合、「単位はくるんじゃね？」と表示する
- 80点以上の場合、「ガチ勢かよ乙」と表示する

![](file:///Users/noko/Desktop/Untitled Diagram (3).png)

こうなると、分岐が複雑になる。ifとelseだけでもなんとかなるが、それでももうちょっと他の文法が欲しくなる。

if文の条件に通らなかった場合のものは、全部が全部elseで処理しなければいけなくなるからである。

そこで、elseとifを混ぜあわせた文法がある。

```javascript
if (条件式1) {
  // 条件式1が真だった時にこっちが動く
} else if (条件式2) {
  // 条件式1にはあてはまらないが、条件式2が真だった時にこっちが動く
} else {
  // 条件式1,2に当てはまらなかった時にここが動く
}
```

さっきの点数のやつのプログラムを作りたい場合はこうなる：

```javascript
var score = 70;
if (score < 60) {
  console.log("＼落単ｶｰﾄﾞﾏｰﾝ!／");
} else if (score < 80) {
  console.log("単位はくるんじゃね？");
} else {
  console.log("ガチ勢かよ乙")
}
```

ちなみに、`else if`の部分で、「`60 <= score && score < 80`」ってかかなかったのはわざと。

60点以下の場合、既に＼落単ｶｰﾄﾞﾏｰﾝ!／と表示されたはずで、else ifの部分には突入しないから。

逆に、else if ではなく、ifでゴリ押そうって場合は`60 <= score && score < 80`って書かないとダメ。

本当は分岐って簡単なんだけど、まあ慣れるまでは難しいかもね

### if文の中にif文

上のプログラムは一応こう書き直すこともできる。

```javascript
var score = 70;
if (score < 60) {
  console.log("＼落単ｶｰﾄﾞﾏｰﾝ!／");
} else {
  if (score < 80) {
    console.log("単位はくるんじゃね？");
  } else {
    console.log("ガチ勢かよ乙")
  }
}
```

こういうこともできるってことは認識してほしい。

## 評価とは

式中に現れる変数や関数、演算などの値を元に、式の値を計算することを、「式を評価する」と言います。

というか、最初は「評価する」＝「計算して値を確定すること」って解釈でいい。

例えば、`4 - 5`を評価すると、`-1`になる。

`1 + 3 + 5` を評価すると、計算順序は(1+3)+5なので(計算順序はあとで教える)、

1 + 3 + 5 → 4 + 5 → 9 のように変化する。

"hel" + "lo" → "hello" のように評価される

つまり、`console.log("hel" + "lo");`と`console.log("hello")`は意味上では一緒。

`4 < 10` → `true`に評価されるのに注意。

つまり、

```javascript
if (4 < 10) {
  console.log("hello!");
}
```

と、下は全く同じ

```javascript
if (true) {
  console.log("hello!");
}
```

## 真偽値について

なんや`if (true)`って！

ってなるかもしれないけど、これは正しいし、普通。

まず、真偽値について説明する。

真偽値とは、 `true` と `false` という値のことで、

もちろん`true`は「正しい」を表していて`false`は「正しくない」をあらわしている。

`1 < 2` は `true` に評価されるし、 `4 <= 4` も `true` (≦の事)。他には、

- `3 >= 6` (= `false`)

- `"abc" == "abc"` (= `true` (右辺と左辺が等しいことを示すイコール))

- `1 != 2` (= `true` ( <img src="https://latex.codecogs.com/gif.latex?%5Cdpi%7B150%7D%20%5Cnot%3D"> のこと))

- `!true` (= `false` (!を使うとtrue/falseが反転))

- `true && false` (= `false` 「かつ」)

- `false || true` (= `true` 「または」)

などがある

そもそも、今まで「条件式」って言ってたものは、

厳密にはすべて「真偽値」が正しいんです

### -4 < -2 < -1 なんてことはできない！

一応、できないことさえ覚えてくれればいい。

なんでか？

まず、基本的には計算は左から右に行われる。

ということは、`(-4 < -2) < -1`ってことだよね。

`-4 < -2`って、さっきの話だと`true`になるよね。

じゃあ上の式は、`true < -1`になるね。

trueと4の比較って何？？？ってなるよね。ほら、やめといたほうがいい。

(実際にやってみると、-4 < -2 < -1はtrueになる・・・)

もし、数学的な <img src="https://latex.codecogs.com/gif.latex?%5Cdpi%7B150%7D%20-4%20%3C%20-2%20%3C%20-1"> をしたいのなら、こう書こうね：

```javascript
-4 < -2 && -2 < -1
```


## 人間がするにはめんどくさいような『ループ』をさせる(while文、for文)

当然といえば当然だけど、コンピュータは単純な処理が得意。

例えば、九九をひたすら表示するプログラムを作りたいとする。

九九といっても、100*100くらいまで計算するようなものがあったとする。

もし、今までの知識でやろうとすると、

```javascript
console.log("1 × 1 = 1");
console.log("1 × 2 = 2");
console.log("1 × 3 = 3");
...
```

こんなものを10000個作って実行すれば動く。

ちょっと知恵を効かせたとして、

```javascript
var i = 1;
var j = 1;
console.log(i + " × " + j " = " + (i * j));
i = i + 1;
console.log(i + " × " + j " = " + (i * j));
i = i + 1;
console.log(i + " × " + j " = " + (i * j));
i = i + 1;
...
```

なんてやれば、10000個をコピペすればできなくはない(クソ)

だから、ループするための文法が用意されている。

### while

```javascript
while (ループ条件式) {
    // ループしたい処理
}
```

和訳すると、「ループ条件が正しい限り、波カッコ内の処理を行う」という動作を行う。

例えば、"hello world"を100回表示したいときは具体的にこう使う。

```javascript
var i = 1;
while (i <= 100) {
  console.log("hello world");
  i++; // i = i + 1 と同じ意味
}
```

まず初めに、一応iって変数を用意する。

i<=100ならhello worldが表示されるてからiの値が1増える。iは1なのでうまく動く

i<=100ならhello worldが表示されるてからiの値が1増える。iは2なのでうまく動く

...

i<=100ならhello worldが表示されるてからiの値が1増える。iは99なのでうまく動く

i<=100ならhello worldが表示されるてからiの値が1増える。iは100なのでうまく動く

i<=100ならhello worldが表示されるてからiの値が1増える。iは101なので、hello world
は表示されず、iのあたいも増えない

ここでループが終了する

って流れになる。

![](file:///Users/noko/Desktop/Untitled Diagram (4).png)


### for

うえではiを使ったけど、ループのためにiを用意することはとても多い。

そのたびに、var iを適切な場所に書いて、手動でi++ってかくばしょをみつけるのもアホらしい。

そのために、iを用いたループを行うときに限り、もうちょっといい文法が用意されている。

最初はこれを覚えるのはつらいかもしれない

```javascript
for (初期化処理; ループ条件式; 処理が終わるたびにする動作) {
    // ループしたい処理
}
```

日本語で書いてもわかりにくかったから例を見てみよう。

```javascript
for (var i = 1; i <= 100; i++) {
  console.log("hello world");
}
```

こう書くことで、上のwhile文と同じ挙動をする。

#### 流れ

説明のために、`for(①;②;④){③}`って書かせてもらう。

まずは①の処理が走る。

次に、今の状態が②の条件式にマッチするかどうかを調べる

マッチしていれば③が行われてその後に④が行われる。

その後、また今の状態が②の条件式にマッチするかどうかを調べる

マッチしていれば③が行われてその後に④が行われる。

これを繰り返す。

①→②→③→④→②→③→④→②→③→④→②→③→④....

## 順序・分岐・ループが表現できれば、理論上はどんなプログラムでも作れる！

やったぜ。

## 演習課題

### 問１

自分の名前を出力してみよう。

### 問２

今日の日記をコメントアウトで残そう

### 問３

変数に自分の名前を代入してそれを表示しよう。変数名は`name`とする

### 問４

変数に <img src="https://latex.codecogs.com/gif.latex?%5Cdpi%7B150%7D%20355%20/%20113"> という数値を代入してそれを表示しよう。変数名は`pi`とする

### 問５

以下のものを計算して表示しよう：

- 1を5で引いた値
- 5 + 3 / 2
- 13 を 5 で割ったあまり
- (1 + 2 を評価したの結果) ÷ (13 を 5 で割ったあまり)

### 問６

これを実行しよう：

```javascript
var a = 1;
a = a + 3;
a += 4;
console.log(a);
a /= 5;
console.log(a);
```

```javascript
var msg = "this is message  ";
msg = msg + "this is message too.  ";
msg += "who are you????\n改行いぇーす";
```

### 問７

BMIを計算するプログラムを作りたい。

```javascript
var height = 175;
var weight = 61;
var bmi = // ここでBMIを計算する
console.log(bmi);
```

### 問８

これから、信号機的なプログラムを作りたい。

という変数を定義し、signalという変数が、

- "red"って文字列のばあい、"渡るべからず"を表示
- "yellow"って文字列の場合、"渡れなさそうならやめときなさいな"を表示
- "blue"って文字列の場合、"渡ろう"を表示

となるようにプログラムを作ろう。

```javascript
var signal = "red";
// ここにコードを書こう
```


### 問９

これらを表示しよう

- 1 < 3
- 4 >= 2
- 7 <= 1
- 1 < 3 && 3 < 5
- true && true
- true && false
- false && false
- true || true
- true || false
- false || false
- !(1 < 3)
- 1 == 1
- 1 != 5

### 問10

こんにちはを10個表示しよう。

### 問11

九九の表でいう、３の段を表示しよう。for文とwhile文の両方を使おう
	
	3 × 1 = 3
	3 × 2 = 6
	3 × 3 = 9
	3 × 4 = 12
	3 × 5 = 15
	3 × 6 = 18
	3 × 7 = 21
	3 × 8 = 24
	3 × 9 = 27

### 問12

1~100の数値に対して、

- 3の倍数ならfizz
- 5の倍数ならbuzz
- 15の倍数ならfizzbuzz

と表示するプログラムを作ろう。

出力例：

	1 2 fizz 4 buzz fizz 7 8 fizz buzz 11 fizz 13 14 fizzbuzz 16 17 ...
	

### 問13

15×15 の九九の表を作ろう。for文とwhile文の両方を使おう

### 問14

7!（7の階乗）を表示するプログラムを作ろう。for文とwhile文の両方を使おう。

### 問15

発展問題

1~100までの数字のうち、素数であるものを表示してみよう。

